
  <div class="addGoal">

  <h2>Set a Goal</h2>
  <form class="create-goal">

    <div class="form-group">
      <label for="Goal">Goal:</label>
      <input type="text" id="userGoal" name="user_Goal">
    </div>

    <button type="submit">Set Goal</button>
  </form>



</div>

<div class="container">
  <div class="row">
    <div class="col">

      <h2>Goals not yet reached</h2>

      <ul>
        {{#each goals}}
        {{#unless completed}}
        {{> goal /goal-block}}
        {{/unless}}
        {{/each}}
      </ul>
    </div>

    <div class="col">
      <h2>Goals Completed</h2>

      <ul>
        {{#each goals}}
        {{#if completed}}
        {{> goal /goal-block}}
        {{/if}}
        {{/each}}
      </ul>
    </div>

  </div>
</div>
 <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

<script>
  $(document).ready(function() {

    // get request for goals on load
    $.get("/api/goals"),function(data){
      return data
    }
    // Getting references to our form and inputs
    var goalForm = $("form");
    var goalInput = $("input#userGoal");
    
  
    // When the form is submitted, we validate there's an email and password entered
    goalForm.on("submit", function(event) {
      event.preventDefault();
      var userData = {
        goal: goalInput.val().trim(),
      };
  
      if (!userData.goal) {
        return;
      }
  
      // If we have an email and password we run the loginUser function and clear the form
      addGoal(userData.goal);
      goalInput.val("");
    });
  
    // loginUser does a post to our "api/login" route and if successful, redirects us the the members page
    function addGoal(goal) {
      $.post("/api/goals", {
        goal: goal
      })
        .then(function() {
          window.location.replace("/goals");
          // If there's an error, log the error
        })
        .catch(function(err) {
          console.log(err);
        });
    }
  });
</script>